<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/stylesheets/shiori.css">
    <link rel="stylesheet" href="/stylesheets/pygments.css">
    <link href='https://fonts.googleapis.com/css?family=Raleway:400,400italic,600,600italic,700,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Merriweather:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="canonical" href="http://blog.leighjohnson.me/grokking-threejs-cloth-animations">
    <link rel="shortcut icon" href="/favicon.ico?v=3">
    <script src="/javascripts/jquery.min.js"></script>
    <script src="/javascripts/bootstrap.min.js"></script>
    <title>Grokking Three.js: Cloth Animations | Psychonaut in Cyberspace</title>
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Additions to <head> tags go here. -->
<meta content="Psychonaut in Cyberspace" property="og:site_name">

  <meta content="Grokking Three.js: Cloth Animations" property="og:title">

<meta property="og:type" content="website" />

  <meta content="article" property="og:type">


  <meta content="" property="og:description">


  <meta content="http://blog.leighjohnson.me/grokking-threejs-cloth-animations" property="og:url">


  <meta content="2015-12-07T00:00:00-05:00" property="article:published_time">
  <meta content="http://blog.leighjohnson.me" property="article:author">


  <meta content="https://avatars3.githubusercontent.com/u/2601819?v=3&s=200" property="og:image">


  


  
  <meta content="three.js" property="article:tag">
  
  <meta content="javascript" property="article:tag">
  
  <meta content="webgl" property="article:tag">
  


  </head>
  <body>
  
    <div class="navbar navbar-inverse navbar-static-top">
  
      <div class="container-fluid">
        <div class="navbar-header">
          <div class="navbar-toggle-wrapper visible-xs">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".js-navbar-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
          </div>
          <a href="/" class="navbar-brand">
              Psychonaut in Cyberspace</a>
        </div>
        <div class="collapse navbar-collapse js-navbar-collapse">
          <ul class="navbar-nav nav">
            <li><a href="/archive">Archive</a></li>

          </ul>
          <ul class="navbar-nav nav navbar-right">
            <li>
  <a href="https://github.com/leigh-johnson"><i class="fa fa-github-alt"></i></a>
</li>
<li>
  <a href="https://twitter.com/grepLeigh"><i class="fa fa-twitter"></i></a>
</li>
<li>
  <a href="https://keybase.io/grepleigh"><i class="fa fa-key"></i></a>
</li>
<li>
  <a href="mailto:hi@leighjohnson.me"><i class="fa fa-envelope"></i></a>
</li>

          </ul>
        </div>
      </div>
    </div>
    <div class="container-fluid">
      <div class="row">
        
          <div class="col-sm-12">
            <div class="post-header">
  <h1 class="post-title-main">Grokking Three.js: Cloth Animations</h1>
  <p class="text-muted">07 Dec 2015 <span> <a href="/tag/three.js/" rel="tag">three.js</a>, <a href="/tag/javascript/" rel="tag">javascript</a>, <a href="/tag/webgl/" rel="tag">webgl</a></span> <span class="pull-right">Reading time: about 1  minute</span></p>

</div>
<div class="post-content">
  <link href="/assets/threejs-cloth/styles/styles.css" rel="stylesheet" />

<div class="container">
    <div class="row">
    </div>
      <h1> A quick demonstration - <small>writeup soon!</small></h1>
    <div class="row">
      <h1 class="col-md-6"> Choose a pattern:</h1>
    </div>
    <div class="row controls">
          <div class="col-md-1">
            <div class="thumbnail">
              <a href="#">
                <img class="active" src="/assets/threejs-cloth/images/pattern-1.png" />
              </a>
            </div>
          </div> 
          <div class="col-md-1">
            <div class="thumbnail">
              <a href="#">
                <img src="/assets/threejs-cloth/images/pattern-2.png" />
              </a>
            </div>
          </div> 
          <div class="col-md-1">
            <div class="thumbnail">
              <a href="#">
                <img src="/assets/threejs-cloth/images/pattern-3.png" />
              </a>
            </div>
          </div> 
          <div class="col-md-1">
            <div class="thumbnail">
              <a href="#">
                <img src="/assets/threejs-cloth/images/pattern-4.png" />
              </a>
            </div>
          </div> 
          <div class="col-md-1">
            <div class="thumbnail">
              <a href="#">
                <img src="/assets/threejs-cloth/images/pattern-5.png" />
              </a>
            </div>
          </div> 
          <div class="col-md-1">
            <div class="thumbnail">
              <a href="#">
                <img src="/assets/threejs-cloth/images/pattern-6.png" />
              </a>
            </div>
          </div> 
          <div class="col-md-1">
            <div class="thumbnail">
              <a href="#">
                <img src="/assets/threejs-cloth/images/pattern-7.png" />
              </a>
            </div>
          </div> 
          <div class="col-md-1">
            <div class="thumbnail">
              <a href="#">
                <img src="/assets/threejs-cloth/images/pattern-8.png" />
              </a>
            </div>
          </div>
          <div class="col-md-1">
            <div class="thumbnail">
              <a href="#">
                <img src="/assets/threejs-cloth/images/pattern-9.png" />
              </a>
            </div>
          </div> 
    </div>
</div>
<div class="container">
  <div class="row">
    <div id="canvas-wrapper" class="col-md-7">
    </div>
    <div class="col-md-3">
    <h1> Rotation:</h1>
      <div class="btn-group" role="group">
        <button class="btn btn-default btn-lg rotate" data-direction="left" data-container="body" data-toggle="popover" data-placement="bottom" data-content="">
          <span class="fa fa-reply"></span>
         </button>
        <button class="btn btn-default btn-lg rotate">
          <span class="fa fa-pause"></span>
        </button>
        <button class="active btn-default btn btn-lg rotate" data-direction="right">
          <span class="fa fa-share"></span>
        </button>
      </div>
    </div>
  </div>
</div>
<script type="x-shader/x-fragment" id="fragmentShaderDepth">
      uniform sampler2D texture;
      varying vec2 vUV;

      vec4 pack_depth( const in float depth ) {

      const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );
      const vec4 bit_mask  = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );
      vec4 res = fract( depth * bit_shift );
      res -= res.xxyz * bit_mask;
      return res;

      }

      void main() {

      vec4 pixel = texture2D( texture, vUV );

      if ( pixel.a < 0.5 ) discard;

      gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );

      }
</script>

<!--
    // GLSL vertex shader 
    // http://threejs.org/examples/#webgl_animation_cloth
    -->
<script type="x-shader/x-fragment" id="vertexShaderDepth">

      varying vec2 vUV;

      void main() {

      vUV = 0.75 * uv;

      vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );

      gl_Position = projectionMatrix * mvPosition;

      }
</script>

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r73/three.js"></script>

<script src="/assets/threejs-cloth/js/cloth.js"></script>

<script src="/assets/threejs-cloth/js/main.js"></script>


</div>
<div class="post-footer">
  
<div id="disqus_thread" class="col-md-12"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'nuwen';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

</div>

  
    <div class="post-navs row">
      
        <div class="col-md-6 post-nav">
          <h3 class="section-header">
            Older
            <span class="text-muted"> &middot; </span>
            <a href="/archive">View Archive (8)</a>
          </h3>
          <h2 class="post-title-link"><a href="/how-to-led-music-visualizer-raspberry-pi">Building an LED music visualizer on a Raspberry Pi - Assemble the Mats</a></h2>
          <p>A multi-part series in which I attempt to build a rainbowlific music visualizer with an LED strip (WS2812) &amp; Raspberry Pi. This post is a project introduction and materials/software list.</p>

        </div>
      
      
        <div class="col-md-6 post-nav">
          <h3 class="section-header">
            Newer
            
          </h3>
          <h2 class="post-title-link"><a href="/how-to-bootstrap-raspberry-pi">How to: Bootstrap a Raspberry Pi</a></h2>
          <p>This guide will walk you through a headless (no monitor, keyboard, mouse) Raspberry Pi setup, in under 15 minutes.</p>

        </div>
      
    </div>
  


          </div>
        
      </div>
      <div class="row footer">
        <div class="col-sm-12 text-center">
          <!-- Feel free to remove this div. Uses purplecoat: http://ellekasai.github.io/purplecoat.js -->
<div data-purplecoat="shiori" data-purplecoat-label="footer.html">
&copy; <a href="http://leighhjohnson.me">Leigh Johnson</a> 2016.
<a href="https://github.com/leigh-johnson/leigh-johnson.github.io/tree/source">Peep Source</a>. Built with <a href="http://jekyllrb.com/">Jekyll</a> and
<a href="https://github.com/ellekasai/shiori">Shiori Theme</a>.
</div>

        </div>
      </div>
    </div>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69747414-1', 'auto');
  ga('send', 'pageview');

</script>

  </body>
</html>
